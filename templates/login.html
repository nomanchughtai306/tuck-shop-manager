{% extends "base.html" %}
{% block title %}Login - Welcome Back{% endblock %}

{% block content %}
<div class="auth-wrapper">
    <div class="auth-card">
        <div class="auth-header">
            <div style="font-size: 3.5rem; margin-bottom: 1rem; animation: float 3s ease-in-out infinite;">âš¡</div>
            <h2>Welcome Back</h2>
            <p>Sign in to manage your tuck shop</p>
        </div>

        <form method="POST" action="{{ url_for('login') }}">
            <div class="form-group">
                <label for="login-identity">Username or Email</label>
                <input type="text" id="login-identity" name="login_identity" class="auth-input" 
                    placeholder="Enter your username or email" required autofocus>
            </div>
            
            <div class="form-group">
                <label for="password">Password</label>
                <div style="position: relative;">
                    <input type="password" id="password" name="password" class="auth-input" 
                        placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required style="padding-right: 45px;">
                    <span id="togglePassword" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); cursor: pointer; font-size: 1.2rem; user-select: none; opacity: 0.7;">
                        ğŸ‘ï¸
                    </span>
                </div>
            </div>

            <div class="form-group" style="display: flex; align-items: center; gap: 10px; margin: 1rem 0; cursor: pointer;">
                <input type="checkbox" id="remember" name="remember" style="width: 18px; height: 18px; cursor: pointer; accent-color: var(--gold);">
                <label for="remember" style="margin-bottom: 0; cursor: pointer; font-size: 0.9rem; color: var(--text-muted);">Stay logged in</label>
            </div>

            <button type="submit" class="btn btn-primary btn-login" style="width: 100%; margin-top: 0.5rem;">
                <span>ğŸ”</span> Login to Dashboard
            </button>
        </form>

        <div class="footer-link" style="margin-top: 1.5rem; text-align: center;">
            Don't have an account? <a href="{{ url_for('register') }}" style="color: var(--gold); font-weight: 600;">Create one</a>
        </div>
        
        <div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid rgba(57, 255, 20, 0.1); text-align: center;">
            <p style="font-size: 0.8rem; color: var(--text-dim); margin-bottom: 0.75rem;">
                Trusted by 1000+ Pakistani shop owners
            </p>
            <div style="display: flex; justify-content: center; gap: 1rem; font-size: 1.25rem;">
                <span title="Secure">ğŸ”’</span>
                <span title="Fast">âš¡</span>
                <span title="Reliable">âœ“</span>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Focus on username field
        const identityInput = document.getElementById('login-identity');
        if (identityInput) identityInput.focus();
        
        // --- Show/Hide Password Logic ---
        const togglePassword = document.querySelector('#togglePassword');
        const passwordInput = document.querySelector('#password');

        togglePassword.addEventListener('click', function() {
            // Toggle type attribute
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            
            // Toggle icon
            this.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
        });

        // --- Entry Animation ---
        const authCard = document.querySelector('.auth-card');
        authCard.style.opacity = '0';
        authCard.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
            authCard.style.transition = 'all 0.5s ease';
            authCard.style.opacity = '1';
            authCard.style.transform = 'translateY(0)';
        }, 100);
    });
</script>
{% endblock %}